## คำถามทบทวน

1.  **Task อยู่ใน Running state เมื่อไหร่บ้าง?**
    *   Task จะเข้าสู่สถานะ **Running** เมื่อ Scheduler เลือกให้มันทำงานบน CPU ซึ่งจะเกิดขึ้นเมื่อ Task นั้นเป็น Task ที่มี Priority สูงที่สุดในบรรดา Task ทั้งหมดที่อยู่ในสถานะ **Ready** (พร้อมทำงาน) ในขณะนั้น ณ เวลาใดเวลาหนึ่งบน CPU core เดียว จะมี Task ที่อยู่ในสถานะ Running ได้เพียง Task เดียวเท่านั้น

2.  **ความแตกต่างระหว่าง Ready และ Blocked state คืออะไร?**
    *   **Ready State:** คือสถานะที่ Task มีความพร้อมที่จะทำงานได้ทันที มีทรัพยากรทุกอย่างครบถ้วน แต่กำลังรอคิวเพื่อให้ Scheduler จัดสรรเวลา CPU ให้ เนื่องจากในขณะนั้นมี Task อื่น (ที่มี Priority สูงกว่าหรือเท่ากัน) กำลังทำงานอยู่
    *   **Blocked State:** คือสถานะที่ Task ไม่สามารถทำงานต่อได้และกำลัง "รอ" เหตุการณ์บางอย่างให้เกิดขึ้นก่อน เช่น รอให้ครบเวลาที่กำหนดด้วย `vTaskDelay()`, รอข้อมูลใน Queue, หรือรอ Semaphore เหตุการณ์เหล่านี้เป็นสิ่งที่ Task ควบคุมไม่ได้ และ Task จะไม่ถูก Scheduler พิจารณาให้ทำงานเลยแม้ว่า CPU จะว่างก็ตาม

3.  **การใช้ vTaskDelay() ทำให้ task อยู่ใน state ใด?**
    *   การเรียกใช้ฟังก์ชัน `vTaskDelay()` หรือ `vTaskDelayUntil()` จะทำให้ Task ที่กำลังทำงาน (Running) เปลี่ยนสถานะไปเป็น **Blocked** ทันที Task จะคงอยู่ในสถานะนี้ตลอดช่วงเวลาที่กำหนดไว้ และเมื่อครบกำหนดเวลาแล้ว Scheduler จะย้าย Task กลับไปที่สถานะ **Ready** เพื่อรอคิวทำงานต่อไป

4.  **การ Suspend task ต่างจาก Block อย่างไร?**
    *   ความแตกต่างหลักคือ **"เงื่อนไขในการกลับมาทำงาน"**
    *   **Blocking** เป็นส่วนหนึ่งของวงจรการทำงานปกติ Task จะ Block ตัวเองเมื่อต้องรออะไรบางอย่าง และจะกลับเข้าสู่สถานะ Ready **โดยอัตโนมัติ** เมื่อเงื่อนไขที่รอนั้นเสร็จสิ้น (เช่น ดีเลย์ครบกำหนด, มีข้อมูลใน Queue)
    *   **Suspending** เป็นการสั่งหยุดจากภายนอก (โดย Task อื่นหรือตัวเองเรียก `vTaskSuspend()`) Task ที่ถูก Suspend จะถูก Scheduler เมินโดยสิ้นเชิงและจะไม่มีวันได้ทำงาน ไม่ว่าจะเกิดเหตุการณ์ใดๆ ขึ้นก็ตาม มันจะกลับมาทำงานได้ก็ต่อเมื่อมีคำสั่งจากภากนอกมาปลุก **โดยชัดแจ้ง** ด้วยฟังก์ชัน `vTaskResume()` เท่านั้น

5.  **Task ที่ถูก Delete จะกลับมาได้หรือไม่?**
    *   **ไม่ได้** Task ที่ถูกลบโดยฟังก์ชัน `vTaskDelete()` จะถูกลบออกจากระบบอย่างถาวร หน่วยความจำที่ถูกจัดสรรให้กับ Task Control Block (TCB) และ Stack ของ Task นั้นจะถูกคืนให้กับระบบ ทำให้ Task สิ้นสุดการทำงานโดยสมบูรณ์ หากต้องการให้โค้ดเดิมทำงานอีกครั้ง จะต้องทำการสร้าง Task ขึ้นมาใหม่ด้วย `xTaskCreate()` เท่านั้น